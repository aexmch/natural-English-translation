<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinglish Lab - Ë™ûÂè•ÈáçÁµÑÁâπË®ìÁâà</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel CDN for JSX compilation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .word-tile { cursor: pointer; transition: all 0.2s; }
        .word-tile:active { transform: scale(0.95); }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 selection:bg-indigo-100 selection:text-indigo-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- SVG ÂúñÊ®ôÁµÑ‰ª∂ ---
        function Icon({ name, className = "w-6 h-6" }) {
            const icons = {
                trophy: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
                flame: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>,
                book: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2Z"/></svg>,
                languages: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="m22 22-5-10-5 10"/><path d="M14 18h6"/></svg>,
                message: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
                info: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>,
                check: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"/></svg>,
                refresh: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>,
                chevron: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="9 18 15 12 9 6"/></svg>,
                party: <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14 21a7 7 0 1 1 0-14 7 7 0 0 1 0 14z"/><path d="m14 14 7 7"/><path d="m14 14-7-7"/></svg>
            };
            return icons[name] || null;
        }

        // --- ÂàÜÈ°ûÊ®ôÁ±§ÁµÑ‰ª∂ ---
        function CategoryBadge({ category }) {
            return (
                <span className="px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider bg-indigo-100 text-indigo-700">
                    {category}
                </span>
            );
        }

        const quizData = [
            { id: 1, chinese: "ÈÄôÂÄãÂëäÁ§∫ÁâåÂëäË®¥Â§ßÂÆ∂‰∏çË¶Å‰∫Ç‰∏üÂûÉÂúæ„ÄÇ", natural: "The sign reminds the public not to litter.", category: "ÂãïË©ûËàáÁµêÊßã", analysis: "1. Ëã±ÊñáÂëäÁ§∫Áâå„ÄåÊèêÈÜí„Äç‰∫∫Áî® remind„ÄÇ 2. Âê¶ÂÆö‰∏çÂÆöË©ûÁµêÊßãÔºöremind someone NOT TO do something„ÄÇ", explanation: "‰∏≠ÊñáË™™„ÄåÂè´‰∫∫‰∏çË¶Å„ÄçÔºåËã±ÊñáÂøÖÈ†àÁî® not to + V ÁöÑÁµêÊßãÔºå‰∏çÂèØÁõ¥Êé•Êé• don't„ÄÇ" },
            { id: 2, chinese: "ËèúÂñÆ‰∏äË™™ÈÄôÈÅìËèúÂæàËæ£„ÄÇ", natural: "The menu says this dish is spicy.", category: "Áâ©Áï∂‰∏ªË©û", analysis: "Êõ∏Êú¨„ÄÅÊ®ôË™û„ÄÅËèúÂñÆÂú®Ëã±Êñá‰∏≠„ÄåË™™Ë©±„ÄçÊòØÁî® says„ÄÇ", explanation: "Èô§ÈùûÊòØÂú®ÊèèËø∞ÂØ´Â≠óÁöÑ„ÄåÂãï‰Ωú„ÄçÔºåÂê¶ÂâáË°®ÈÅîÂÖßÂÆπÊôÇ‰∏ÄÂæãÁî® says Êàñ reads„ÄÇ" },
            { id: 3, chinese: "ÈÜ´ÁîüÂª∫Ë≠∞ÊàëË¶ÅÂ§ö‰ºëÊÅØ„ÄÇ", natural: "The doctor suggested that I rest more.", category: "Âª∫Ë≠∞Âè•Âûã", analysis: "Suggest ÂæåÈù¢‰∏çÂèØÊé• to VÔºåÈúÄÊé• that Â≠êÂè•Êàñ V-ing„ÄÇ", explanation: "ÈÄôÈ°åË¶ÅÁâπÂà•Ê≥®ÊÑè word bank ‰∏≠ÊòØÂê¶Êúâ that„ÄÇ" },
            { id: 4, chinese: "ËÄÅÂ∏´Ë¶ÅÊ±ÇÊàëÂÄëÊ∫ñÊôÇ‰∫§‰ΩúÊ•≠„ÄÇ", natural: "The teacher requested us to submit homework on time.", category: "‰∏çÂÆöË©ûÁµêÊßã", analysis: "Request/Require Êüê‰∫∫ÂÅöÊüê‰∫ãÔºåÂøÖÈ†àÂä† to„ÄÇ", explanation: "Ë®ò‰Ωè V + Obj + to + V ÁöÑÁµêÊßã„ÄÇ" },
            { id: 5, chinese: "Ê®ôÁ±§‰∏äÊ®ôÁ§∫Ëëó„ÄéÂÉÖÈôê‰πæÊ¥ó„Äè„ÄÇ", natural: "The label reads 'Dry Clean Only'.", category: "Áâ©Áï∂‰∏ªË©û", analysis: "Ê®ôÁ±§„ÄÅÂÑÄÂô®„ÄåËÆÄËµ∑‰æÜÊòØ„ÄçÁî® read„ÄÇ", explanation: "Read ‰∏çÂè™ÊòØÈñ±ËÆÄÔºå‰πüÂèØ‰ª•ÊåáÊñáÂ≠óÂëàÁèæÁöÑÂÖßÂÆπ„ÄÇ" },
            { id: 6, chinese: "ÈõªÂ≠êÈÉµ‰ª∂ÈÄöÁü•ÊàëÈù¢Ë©¶ÁöÑÊôÇÈñì„ÄÇ", natural: "The email informed me of the interview time.", category: "ÂØüË¶∫ vs ÂëäÁü•", analysis: "Notice ÊòØÂØüË¶∫„ÄÇÈõªÂ≠êÈÉµ‰ª∂„ÄåÂëäÁü•„Äç‰Ω†ÔºåÊáâ‰ΩøÁî® inform Êàñ notify„ÄÇ", explanation: "‰∏≠Êñá„ÄéÈÄöÁü•„ÄèÂú®Ëã±ÊñáÊúâ„ÄéÊàëÁúãÂà∞„ÄèÂíå„ÄéÂÆÉÂëäË®¥Êàë„ÄèÁöÑÂ∑ÆÂà•„ÄÇ" },
            { id: 7, chinese: "ÊàëÁúãÂà∞‰ªñÁöÑËáâËâ≤ÔºåÁôºÁèæ‰ªñ‰∏çÈ´òËàà„ÄÇ", natural: "I saw his face and noticed he was unhappy.", category: "ÂØüË¶∫ vs ÂëäÁü•", analysis: "ÊòØ‰Ω†„ÄéÂØüË¶∫„ÄèÂà∞‰ªñÁöÑÊÉÖÁ∑í„ÄÇÊáâÁî® notice„ÄÇ", explanation: "Notice Â∏∏Áî®ÊñºÊÑüÂÆòËßÄÂØüÂæåÁöÑÁôºÁèæ„ÄÇ" },
            { id: 8, chinese: "ÈÄôÊ¢ùÊ≥ïÂæãÁ¶ÅÊ≠¢‰∫∫ÂÄëÂú®ÈÄôË£°ÊäΩËè∏„ÄÇ", natural: "This law forbids people from smoking here.", category: "ÂãïË©ûÊê≠ÈÖç", analysis: "Forbid Êüê‰∫∫ÂÅöÊüê‰∫ãÔºåÂ∏∏Áî® from doing„ÄÇ", explanation: "‰∏≠ÊñáÁõ¥Ë≠ØÊúÉÊºèÊéâ‰ªãÁ≥ªË©û from„ÄÇ" },
            { id: 9, chinese: "È¨ßÈêòÊèêÈÜíÊàëË©≤Ëµ∑Â∫ä‰∫Ü„ÄÇ", natural: "The alarm reminded me to wake up.", category: "ÊèêÈÜí vs ÂØüË¶∫", analysis: "È¨ßÈêòÁöÑ‰ΩúÁî®ÊòØÊèêÈÜí (remind)„ÄÇ", explanation: "ÈÅ∏ÊìáËÉΩË°®ÈÅîÂãï‰ΩúÂäüËÉΩÂäüËÉΩÁöÑÂãïË©û„ÄÇ" },
            { id: 10, chinese: "ÈÄôÂºµÁÖßÁâáËÆìÊàëÊÉ≥Ëµ∑Á´•Âπ¥„ÄÇ", natural: "This photo reminds me of my childhood.", category: "‰ΩøÂΩπËàáËÅØÊÉ≥", analysis: "Ëã±ÊñáÁî® remind someone of something Ë°®ÈÅîËÆìÊàëÊÉ≥Ëµ∑„ÄÇ", explanation: "‰∏çË¶ÅÂè™ÊúÉÁî® make me rememberÔºåremind of Êõ¥Âú∞ÈÅì„ÄÇ" },
            { id: 11, chinese: "ÈÄôÂâáÊñ∞ËÅûËÆìÊàëÊÑüÂà∞ÂæàÈúáÈ©ö„ÄÇ", natural: "The news shocked me.", category: "Á∞°ÊΩîÂãïË©û", analysis: "Ëã±ÊñáÂ∏∏Áõ¥Êé•ÊääÂøÉÁêÜÂãïË©ûÁï∂ÊàêÂãï‰Ωú„ÄÇ", explanation: "Áõ¥Êé•Ë™™ The news shocked me ÊØîÁî® make me feel Êõ¥Âº∑„ÄÇ" },
            { id: 12, chinese: "Êî∂ÊìöË≠âÊòé‰∫ÜÊàëÂ∑≤Á∂ì‰ªòÈÅéÈå¢„ÄÇ", natural: "The receipt proves that I have paid.", category: "Ë≠âÊòé", analysis: "Ë°®ÈÅî‰∫ãÂØ¶Ë≠âÊòéÔºåÁî® prove Êõ¥Á≤æÁ¢∫„ÄÇ", explanation: "Ê†πÊìöË™ûÂ¢ÉÈÅ∏ÊìáÊõ¥ÂÖ∑Ê¨äÂ®ÅÊÄßÁöÑÂãïË©û„ÄÇ" },
            { id: 13, chinese: "ÈÄô‰ªΩÂêàÁ¥ÑË¶ÅÊ±ÇÊàøÂÆ¢ÊîØ‰ªòÊäºÈáë„ÄÇ", natural: "The contract requires the tenant to pay a deposit.", category: "Ê≥ïÂæãË¶ÅÊ±Ç", analysis: "Ê≥ïÂæãÂêàÁ¥ÑÁöÑÂº∑Âà∂Ë¶ÅÊ±ÇÔºåÈ¶ñÈÅ∏ require + Obj + to V„ÄÇ", explanation: "Request ÊØîËºÉÂÉèÁ¶ÆË≤åË´ãÊ±Ç„ÄÇ" },
            { id: 14, chinese: "Âª£ÂëäÈÇÄË´ãÊàëÂÄëÂèÉÂä†Ê¥ªÂãï„ÄÇ", natural: "The advertisement invited us to join the event.", category: "‰∏çÂÆöË©ûÁµêÊßã", analysis: "Invite someone to do something„ÄÇ", explanation: "ÊºèÊéâ to ÊòØ‰∏≠Êñá‰ΩøÁî®ËÄÖÂ∏∏Ë¶ãÈåØË™§„ÄÇ" },
            { id: 15, chinese: "Á†îÁ©∂ÊåáÂá∫ÈÅãÂãïÂ∞çÂ§ßËÖ¶ÊúâÁõä„ÄÇ", natural: "The research indicates that exercise is good for the brain.", category: "Â≠∏Ë°ìÊê≠ÈÖç", analysis: "È°ØÁ§∫Á†îÁ©∂ÁµêÊûúÔºåÂ≠∏Ë°ìË™ûÂ¢ÉÂ∏∏Áî® indicate„ÄÇ", explanation: "Point out ÈÄöÂ∏∏Áî®Êñº‰∫∫ÊåáÊ≠£ÊüêÂÄã‰∫ãÂØ¶„ÄÇ" },
            { id: 16, chinese: "ÊôÇÈêòÁèæÂú®È°ØÁ§∫ÂçàÂ§úÂçÅ‰∫åÈªû„ÄÇ", natural: "The clock reads midnight.", category: "Áâ©Áï∂‰∏ªË©û", analysis: "ÊôÇÈêòÈ°ØÁ§∫ÊôÇÈñìÔºåËã±ÊñáÁâπÊÑõÁî® read„ÄÇ", explanation: "ÈÄôÊòØ‰∏≠ÊñáÂÆåÂÖ®‰∏çÊúÉËÅØÊÉ≥Âà∞ÁöÑÊê≠ÈÖçË©û„ÄÇ" },
            { id: 17, chinese: "ÈÄôÈ†ÖÊîøÁ≠ñÈò≤Ê≠¢‰∫ÜÂì°Â∑•ÈÅéÂãû„ÄÇ", natural: "This policy prevents employees from overworking.", category: "Èò≤Ê≠¢Âè•Âûã", analysis: "‰∏≠ÊñáË™™„Äé‰∏çËÆì...„ÄèÔºåËã±ÊñáÁî® prevent from doing Êõ¥Â∞àÊ•≠„ÄÇ", explanation: "‰∏çË¶Å‰ªÄÈ∫ºÈÉΩÁî® let„ÄÇ" },
            { id: 18, chinese: "ÊñáÁ´†Ë®éË´ñ‰∫ÜÊ∞£ÂÄôËÆäÈÅ∑„ÄÇ", natural: "The article discusses climate change.", category: "Ê≠£ÂºèË®éË´ñ", analysis: "ÊñáÁ´†Êõ∏Á±çÊé¢Ë®é‰∏ªÈ°åÔºåÁî® discuss ÊØî talk Ê≠£Âºè„ÄÇ", explanation: "Talk ÂÅèÂêëÂè£Ë™ûÂ∞çË©±„ÄÇ" },
            { id: 19, chinese: "Âú∞ÂúñÈ°ØÁ§∫ÊàëÂÄëÂú®Âì™Ë£°„ÄÇ", natural: "The map shows where we are.", category: "È°ØÁ§∫", analysis: "Âú∞ÂúñÊòØË¶ñË¶∫Â™í‰ªãÔºåÁî®ÂëàÁèæ (show)„ÄÇ", explanation: "Ê†πÊìöÂ™í‰ªãÊÄßË≥™ÈÅ∏ÊìáÂãïË©û„ÄÇ" },
            { id: 20, chinese: "ÊâãÂÜäËß£Èáã‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®Áî¢ÂìÅ„ÄÇ", natural: "The manual explains how to use the product.", category: "Ëß£Èáã", analysis: "ÊâãÂÜäÁöÑÂäüËÉΩÊòØËß£Èáã (explain)„ÄÇ", explanation: "Explain Âº∑Ë™øÊ≠•È©üËàáÁ¥∞ÁØÄÁöÑË™™Êòé„ÄÇ" },
            { id: 21, chinese: "Â™ΩÂ™ΩÂè´Êàë‰∏çË¶ÅÂ§™ÊôöÂõûÂÆ∂„ÄÇ", natural: "Mom told me not to come home too late.", category: "‰∏çÂÆöË©ûÁµêÊßã", analysis: "Âê¶ÂÆö‰∏çÂÆöË©ûÁµêÊßãÔºönot to + V„ÄÇ", explanation: "Âê¶ÂÆöË©û not ÂøÖÈ†àÊîæÂú® to ÁöÑÂâçÈù¢„ÄÇ" },
            { id: 22, chinese: "Ë≠¶ÂØüÂëΩ‰ª§‰ªñ‰∏çË¶ÅÂãï„ÄÇ", natural: "The police ordered him not to move.", category: "‰∏çÂÆöË©ûÁµêÊßã", analysis: "ÂëΩ‰ª§Êüê‰∫∫‰∏çÂÅöÊüê‰∫ãÔºönot to + V„ÄÇ", explanation: "ÈÄôÊòØ‰∏ÄÂÄãÊ≠£ÂºèÊåá‰ª§ÔºåÁµêÊßãÂøÖÈ†àÁ≤æÁ¢∫„ÄÇ" },
            { id: 23, chinese: "ÈÜ´ÁîüÂèÆÂõëÁóÖ‰∫∫‰∏çË¶ÅÊäΩËè∏„ÄÇ", natural: "The doctor advised the patient not to smoke.", category: "‰∏çÂÆöË©ûÁµêÊßã", analysis: "Âã∏ÂëäÊàñÂèÆÂõëÂæåÁöÑÂê¶ÂÆöÂãï‰ΩúÔºåÁî® not to Ê©ãÊé•„ÄÇ", explanation: "ÈÄôÊòØ ESL ÂØ´‰Ωú‰∏≠Ê•µÈ´òÈ†ªÁöÑÁµêÊßã„ÄÇ" }
        ];

        function shuffle(array) {
            return [...array].sort(() => Math.random() - 0.5);
        }

        function App() {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [selectedWords, setSelectedWords] = useState([]);
            const [availableWords, setAvailableWords] = useState([]);
            const [showResult, setShowResult] = useState(false);
            const [isCorrect, setIsCorrect] = useState(false);
            const [completed, setCompleted] = useState([]);
            const [score, setScore] = useState(0);
            const [streak, setStreak] = useState(0);
            const [isFinished, setIsFinished] = useState(false);

            const currentTask = quizData[currentIndex];

            useEffect(() => {
                const words = currentTask.natural.replace(/[.;,]/g, '').split(' ');
                // ËôïÁêÜÊ®ôÈªûÁ¨¶ËôüÁöÑÁ∞°ÂñÆÈ°ØÁ§∫
                setAvailableWords(shuffle(words.map((w, i) => ({ text: w, id: i }))));
                setSelectedWords([]);
                setShowResult(false);
            }, [currentIndex]);

            const handlePickWord = (word) => {
                if (showResult) return;
                setSelectedWords([...selectedWords, word]);
                setAvailableWords(availableWords.filter(w => w.id !== word.id));
            };

            const handleRemoveWord = (word) => {
                if (showResult) return;
                setAvailableWords([...availableWords, word]);
                setSelectedWords(selectedWords.filter(w => w.id !== word.id));
            };

            const checkAnswer = () => {
                const finalSentence = selectedWords.map(w => w.text).join(' ').toLowerCase();
                const targetSentence = currentTask.natural.replace(/[.;,]/g, '').toLowerCase();
                const correct = finalSentence === targetSentence;
                setIsCorrect(correct);
                setShowResult(true);

                if (correct) {
                    setScore(s => s + 100 + (streak * 10));
                    setStreak(s => s + 1);
                } else {
                    setStreak(0);
                }

                if (!completed.includes(currentTask.id)) {
                    setCompleted([...completed, currentTask.id]);
                }
            };

            const nextTask = () => {
                if (completed.length === quizData.length && isCorrect) {
                    setIsFinished(true);
                    return;
                }
                setCurrentIndex(i => (i + 1) % quizData.length);
            };

            const reset = () => {
                setCurrentIndex(0);
                setScore(0);
                setStreak(0);
                setCompleted([]);
                setIsFinished(false);
            };

            if (isFinished) return (
                <div className="min-h-screen bg-slate-50 flex items-center justify-center p-4">
                    <div className="max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-10 text-center border border-slate-100">
                        <div className="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner"><Icon name="party" className="w-12 h-12 text-yellow-600" /></div>
                        <h1 className="text-3xl font-black text-slate-800 mb-2">ÁâπË®ìÂÆåÊàêÔºÅ</h1>
                        <p className="mb-6 text-slate-500 font-medium">‰Ω†Â∑≤ÊàêÂäüÊßãÂª∫‰∫Ü 23 ÂÄãÊ≠£Á¢∫Ë°®ÈÅî</p>
                        <div className="bg-indigo-50 rounded-[2rem] p-8 mb-8 border border-indigo-100">
                            <div className="text-xs text-indigo-400 font-black uppercase mb-2">TOTAL SCORE</div>
                            <div className="text-6xl font-black text-indigo-600 mb-4">{score}</div>
                        </div>
                        <button onClick={reset} className="w-full py-5 bg-slate-900 text-white font-black rounded-2xl flex items-center justify-center gap-3 hover:scale-105 transition-all"><Icon name="refresh" /> ÈáçÊñ∞Ë®ìÁ∑¥</button>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-50 p-4 md:p-8">
                    <div className="max-w-3xl mx-auto">
                        <header className="mb-8 flex flex-col md:flex-row justify-between items-center gap-6">
                            <div className="flex items-center gap-4">
                                <div className="p-4 bg-indigo-600 rounded-[1.2rem] shadow-xl text-white rotate-3"><Icon name="book" /></div>
                                <div><h1 className="text-2xl font-black text-slate-900 leading-tight">Chinglish Lab</h1><p className="text-[10px] text-slate-400 font-black uppercase">Ë™ûÂè•ÈáçÁµÑË®ìÁ∑¥</p></div>
                            </div>
                            <div className="bg-white px-6 py-3 rounded-[1.5rem] shadow-sm border border-slate-200 flex items-center gap-5">
                                <div className="text-right"><span className="text-[9px] text-slate-400 font-black block uppercase">Score</span><span className="text-2xl font-black text-slate-800 tabular-nums">{score}</span></div>
                                <div className="w-px h-10 bg-slate-100"></div>
                                <div className="text-right"><span className="text-[9px] text-slate-400 font-black block uppercase">Streak</span><div className="flex items-center gap-1"><Icon name="flame" className={`w-5 h-5 ${streak > 0 ? 'text-orange-500 fill-orange-500 animate-pulse' : 'text-slate-200'}`} /><span className="text-2xl font-black text-slate-800 tabular-nums">{streak}</span></div></div>
                            </div>
                        </header>

                        <main className="bg-white rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100">
                            <div className="p-8 md:p-12">
                                <div className="flex justify-between items-center mb-10">
                                    <CategoryBadge category={currentTask.category} />
                                    <div className="text-[10px] font-black text-slate-300">Case {currentIndex + 1} / {quizData.length}</div>
                                </div>
                                
                                <div className="mb-10 relative">
                                    <div className="absolute -left-2 top-0 bottom-0 w-2 bg-indigo-600 rounded-full"></div>
                                    <label className="text-[10px] font-black text-indigo-500 uppercase px-5 mb-3 flex items-center gap-2">
                                        <Icon name="languages" className="w-4 h-4" /> ‰∏≠ÊñáË™ûÂ¢É
                                    </label>
                                    <div className="text-3xl font-black text-slate-800 px-5 leading-tight">
                                        „Äå{currentTask.chinese}„Äç
                                    </div>
                                </div>

                                <div className="mb-8">
                                    <label className="text-[10px] font-black text-slate-400 uppercase block px-3 mb-4 text-center">ÊãºÊπäÂá∫Ê≠£Á¢∫ÁöÑËã±ÊñáÂè•ÂûãÔºö</label>
                                    <div className="min-h-[140px] p-8 bg-slate-50/50 rounded-[2.5rem] border-2 border-dashed border-slate-200 flex flex-wrap gap-3 items-center justify-center content-center shadow-inner relative">
                                        {selectedWords.length === 0 && <span className="text-slate-300 italic text-sm absolute">ÈªûÊìä‰∏ãÊñπÂñÆÂ≠ó...</span>}
                                        {selectedWords.map((word) => (
                                            <button
                                                key={`selected-${word.id}`}
                                                onClick={() => handleRemoveWord(word)}
                                                className="px-5 py-2.5 bg-white rounded-2xl shadow-md border border-indigo-100 text-indigo-700 font-bold hover:bg-red-50 hover:text-red-500 transition-colors"
                                            >
                                                {word.text}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {!showResult && (
                                    <div className="mb-10">
                                        <div className="flex flex-wrap gap-3 justify-center">
                                            {availableWords.map((word) => (
                                                <button
                                                    key={`available-${word.id}`}
                                                    onClick={() => handlePickWord(word)}
                                                    className="px-6 py-3 bg-indigo-50 hover:bg-indigo-100 rounded-2xl text-indigo-700 font-bold border border-indigo-200 shadow-sm transition-all active:scale-90"
                                                >
                                                    {word.text}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {showResult && (
                                    <div className="animate-in fade-in slide-in-from-bottom-5 duration-500 space-y-8">
                                        <div className={`p-8 rounded-[2rem] border-2 flex items-center gap-6 ${isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}>
                                            <div className={`p-4 rounded-2xl text-white ${isCorrect ? 'bg-green-500' : 'bg-red-500'}`}>
                                                <Icon name={isCorrect ? "check" : "refresh"} />
                                            </div>
                                            <div className="flex-1">
                                                <div className={`text-xs font-black uppercase mb-1 ${isCorrect ? 'text-green-600' : 'text-red-600'}`}>
                                                    {isCorrect ? "ÈÇèËºØÂÆåÂÖ®Ê≠£Á¢∫ÔºÅ" : "Ë™ûÂ∫èÊúâÈªûÂïèÈ°å"}
                                                </div>
                                                <div className="text-lg font-bold text-slate-800">
                                                    {isCorrect ? `"${currentTask.natural}"` : "Ë´ãÊ™¢Êü• not Ëàá to ÁöÑ‰ΩçÁΩÆ„ÄÇ"}
                                                </div>
                                            </div>
                                        </div>

                                        {isCorrect ? (
                                            <div className="bg-amber-50 rounded-[2.5rem] p-10 border border-amber-100 shadow-inner">
                                                <div className="flex items-center gap-3 mb-6"><Icon name="message" className="w-7 h-7 text-amber-600" /><h3 className="font-black text-amber-950 text-xl">ÈÇèËºØËß£ÂØÜ</h3></div>
                                                <p className="text-amber-900 leading-relaxed mb-8 text-lg font-medium">{currentTask.analysis}</p>
                                                <div className="bg-white p-6 rounded-2xl border border-amber-200"><p className="text-amber-800 text-base italic leading-relaxed">üí° {currentTask.explanation}</p></div>
                                            </div>
                                        ) : (
                                            <button onClick={() => { setShowResult(false); setSelectedWords([]); setAvailableWords(shuffle(currentTask.natural.replace(/[.;,]/g, '').split(' ').map((w, i) => ({ text: w, id: i })))); }} className="w-full py-5 bg-slate-800 text-white font-bold rounded-2xl">ÈáçË©¶Ê≠§È°å</button>
                                        )}

                                        {isCorrect && (
                                            <button onClick={nextTask} className="w-full py-6 bg-indigo-600 text-white font-black rounded-[2rem] flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all">‰∏ã‰∏ÄÈóú <Icon name="chevron" /></button>
                                        )}
                                    </div>
                                )}

                                {!showResult && (
                                    <button 
                                        disabled={selectedWords.length === 0}
                                        onClick={checkAnswer} 
                                        className={`w-full py-6 font-black rounded-[2rem] shadow-xl flex items-center justify-center gap-3 text-lg transition-all ${selectedWords.length > 0 ? 'bg-indigo-600 text-white hover:bg-indigo-700' : 'bg-slate-100 text-slate-300 cursor-not-allowed'}`}
                                    >
                                        Ê™¢Êü•Ë™ûÊ≥ï <Icon name="check" className="w-5 h-5" />
                                    </button>
                                )}
                            </div>
                        </main>
                        <footer className="mt-12 text-center text-slate-300 text-[10px] font-black uppercase tracking-widest">Designed for Error-Free Learning</footer>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
